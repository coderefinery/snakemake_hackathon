Search.setIndex({"alltitles": {"About the course": [[4, "about-the-course"]], "Containerization": [[1, "containerization"]], "Content": [[4, "content"]], "Dependencies between rules": [[1, "dependencies-between-rules"]], "Error recovery and re-entry": [[1, "error-recovery-and-re-entry"]], "Follow the progress of jobs": [[2, "follow-the-progress-of-jobs"]], "Force execution": [[1, "force-execution"]], "Good practices": [[0, "good-practices"]], "How do you clean different task-specific folders automatically?": [[2, "how-do-you-clean-different-task-specific-folders-automatically"]], "How do you parallelise snakemake workflow jobs?": [[2, "how-do-you-parallelise-snakemake-workflow-jobs"]], "Installation": [[1, "installation"]], "Instructor\u2019s guide": [[3, "instructor-s-guide"]], "Intended learning outcomes": [[3, "intended-learning-outcomes"]], "Interesting questions you might get": [[3, "interesting-questions-you-might-get"]], "Keypoints": [[0, "keypoints-0"], [2, "keypoints-0"]], "Learning outcomes": [[4, "learning-outcomes"]], "Monitoring": [[1, "monitoring"]], "More Information": [[2, "more-information"]], "Objectives": [[0, "objectives-0"], [1, "objectives-0"], [2, "objectives-0"]], "Other practical aspects": [[3, "other-practical-aspects"]], "Parallelization": [[1, "parallelization"]], "Preparing exercises": [[3, "preparing-exercises"]], "Prerequisite: Portable workflow": [[0, "prerequisite-portable-workflow"]], "Prerequisites": [[4, "prerequisites-0"]], "Project structure": [[1, "project-structure"]], "Python code in Snakefile": [[1, "python-code-in-snakefile"]], "Quick Reference": [[5, "quick-reference"]], "Reporting": [[1, "reporting"]], "Rules": [[1, "rules"]], "See also": [[4, "see-also"]], "Snakefile": [[1, "snakefile"]], "Snakemake Hackathon": [[4, "snakemake-hackathon"]], "Snakemake cluster execution": [[0, "snakemake-cluster-execution"]], "Snakemake introduction": [[1, "snakemake-introduction"]], "Snakemake on the supercomputer": [[0, "snakemake-on-the-supercomputer"]], "Submit Snakemake Workflow on Cluster": [[2, "submit-snakemake-workflow-on-cluster"]], "Summary": [[1, "summary"]], "Theory": [[4, null]], "Timing": [[3, "timing"]], "Toy example: Snakemake at Scale": [[2, "toy-example-snakemake-at-scale"]], "Typical pitfalls": [[3, "typical-pitfalls"]], "Use Containers as Runtime Environment": [[2, "use-containers-as-runtime-environment"]], "Use HyperQueue Executor to Submit Jobs": [[2, "use-hyperqueue-executor-to-submit-jobs"]], "What is a workflow?": [[1, "what-is-a-workflow"]], "Why Snakemake?": [[1, "why-snakemake"]], "Why we teach this lesson": [[3, "why-we-teach-this-lesson"]], "Wildcards": [[1, "wildcards"]], "Workflow reproducibility": [[1, "workflow-reproducibility"]], "Workflow tools and why we need them?": [[1, "workflow-tools-and-why-we-need-them"]], "Working with modules": [[0, "working-with-modules"]]}, "docnames": ["Snakemake_HPC", "Snakemake_intro", "Toy_example", "guide", "index", "quick-reference"], "envversion": {"sphinx": 61, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2}, "filenames": ["Snakemake_HPC.md", "Snakemake_intro.md", "Toy_example.md", "guide.rst", "index.rst", "quick-reference.rst"], "indexentries": {}, "objects": {}, "objnames": {}, "objtypes": {}, "terms": {"": [0, 1, 2], "0": [1, 2], "00": [0, 2], "000": 1, "05": 4, "1": [0, 1, 2], "10": [0, 1, 2], "100": 1, "11": 1, "12688": 1, "127": 1, "14": 1, "16": 2, "18": 2, "19": 1, "2": [1, 2], "20": 1, "2021": 1, "2023": 1, "22": 4, "24": [2, 4], "29032": 1, "2g": [0, 2], "3": 1, "33": 1, "4": [0, 2], "40": [1, 2], "4000": 0, "5": [1, 2], "5000": 1, "6": [0, 2], "60": 0, "7": 2, "8": [0, 2], "A": 1, "As": 1, "By": 1, "For": [1, 2, 4], "If": [1, 2], "In": [1, 2], "It": 1, "On": 1, "One": 2, "Such": 1, "That": 1, "The": [1, 2, 4], "Then": [1, 4], "There": 1, "These": 2, "To": 1, "With": 1, "_copi": 1, "a3": 2, "abl": [1, 4], "about": 1, "abov": [1, 2], "access": [1, 4], "account": [0, 2], "achiev": [1, 2], "across": 1, "actual": 1, "acycl": 1, "ad": 1, "adapt": 2, "add": 1, "addit": 1, "adjust": 1, "advis": 2, "after": [0, 1, 4], "afternoon": 4, "again": 1, "aggreg": 1, "all": [0, 1, 2, 4], "alla": 2, "alloc": [0, 2], "allow": 1, "alon": 2, "alpin": 1, "alreadi": [1, 2], "also": [1, 2], "altern": 2, "although": 1, "an": [1, 2], "analys": 1, "analysi": 1, "analyz": 1, "ani": 1, "annoi": 2, "anoth": [0, 1], "api": 1, "append": 1, "appl": 2, "applic": 1, "approach": 1, "apptain": [1, 2], "apr": 1, "ar": [0, 1, 2], "argument": 1, "aros": 1, "around": 1, "attend": 4, "autom": 1, "automat": 1, "avail": [1, 2], "avoid": [0, 1], "b": 1, "background": 2, "backward": 1, "base": 1, "bash": [0, 1, 2], "basic": 1, "batch": [0, 2], "becaus": 1, "becom": 1, "been": [1, 2], "befor": [1, 2, 3, 4], "begin": [1, 4], "behaviour": 1, "being": 2, "below": [1, 2], "besid": [1, 2], "better": [1, 2, 4], "bigger": 1, "bin": [0, 2], "bind": 2, "bio": 4, "bioinformat": [1, 4], "bit": 1, "both": 1, "branch": 1, "break": 1, "browser": 1, "build": [1, 2], "built": [1, 2], "byoc": 4, "c": 1, "call": 1, "can": [0, 1, 2, 4], "cannot": 1, "care": 1, "carpentri": 4, "case": [1, 2], "cat": 1, "catalog": [1, 4], "categori": 1, "caus": 2, "center": 1, "central": 1, "ch": 1, "challeng": 4, "chang": 1, "charg": 4, "check": [0, 1, 2], "citat": 1, "close": 1, "cmd": [0, 2], "code": 2, "coderefineri": 4, "collabor": 1, "com": 1, "combin": 1, "command": [1, 2], "common": [1, 3, 4], "commun": 1, "complex": 1, "compon": 1, "comput": [1, 2, 4], "concaten": 1, "concept": 4, "concurr": 2, "conda": 1, "config": 1, "configur": 1, "connect": 1, "consider": 4, "consist": 1, "contain": [0, 1], "content": [1, 2], "context": 1, "control": 0, "convert": 1, "copi": 1, "core": 1, "correct": 2, "correctli": 1, "corrupt": 1, "could": 1, "count": 1, "count_word": 1, "cours": 2, "cover": 1, "cp": 1, "cpu": [0, 1, 2], "creat": [0, 1, 2], "creation": 2, "crucial": 1, "csc": [0, 2, 4], "csv": 1, "ctrl": 1, "curl": 1, "current": [1, 2], "dag": 1, "dai": 3, "data": [1, 2], "dataset": 1, "dataset_2024": 1, "date": 1, "deal": 1, "debug": 2, "decreas": 2, "dedic": 2, "def": 1, "default": [1, 2], "defin": [1, 4], "definit": 1, "depend": [2, 4], "deploy": 1, "describ": [1, 2], "design": [1, 4], "detail": 1, "detect": 1, "dev": 2, "develop": 1, "did": 1, "differ": 1, "direct": [1, 2], "directli": 1, "directori": [1, 2], "discov": 1, "discoveri": 1, "distribut": 1, "do": [1, 3], "doc": 4, "docker": 1, "document": [1, 2], "doe": [1, 4], "doi": 1, "don": 2, "done": [1, 2], "dot": 1, "down": [1, 2], "download": [1, 2], "dry": 1, "e": [1, 2, 3], "each": [1, 2], "eas": 1, "easi": 1, "easier": 1, "easili": 1, "echo": 1, "editor": 1, "effici": [0, 1, 2], "either": [1, 4], "enabl": 1, "encapsul": 1, "end": 1, "endswith": 1, "enough": 1, "ensur": 1, "entir": 1, "entri": 4, "entrypoint": 1, "env": 1, "environ": 1, "equal": 1, "especi": [0, 4], "even": [1, 2], "eventu": 2, "everyth": 1, "exact": [1, 2], "examin": 1, "exampl": [1, 4], "execut": 2, "executor": [0, 1], "exist": 1, "expand": 1, "expect": 4, "export": 2, "extens": 1, "extern": 1, "extra": 1, "f": 1, "f1000re": 1, "f1000research": 1, "facilit": 1, "fail": 1, "fakeroot": 2, "far": 1, "faster": 1, "favorit": [1, 4], "feasibl": 1, "featur": 1, "feel": 1, "few": [1, 2], "fi": 2, "field": [1, 4], "figur": 4, "file": [0, 1, 2], "file1": 1, "file2": 1, "file3": 1, "filenam": 1, "filepath": 0, "filesystem": 1, "filter": 1, "filtered_dataset_2024": 1, "final": 1, "find": 1, "find_txt_fil": 1, "fine": [1, 2], "finish": 2, "finnish": 0, "first": 1, "flag": [1, 2], "folder": [0, 1], "follow": 1, "forceal": 1, "formal": 2, "format": 1, "forster": 1, "fortun": 1, "found": 1, "four": 1, "free": [1, 4], "freeli": 1, "from": [0, 1, 2, 4], "full": [1, 2], "function": 1, "g": [1, 2, 3], "gain": 1, "gather": 1, "gener": [0, 1, 2], "get": [1, 4], "get_data_from_serv": 1, "github": 1, "gitignor": 1, "give": 4, "given": 1, "global": 1, "go": [1, 4], "goe": 1, "good": 2, "grant": 1, "graph": 1, "graphic": 1, "graphviz": 1, "graphvizonlin": 1, "group": 2, "grow": 1, "guidanc": 1, "gz": 2, "ha": [1, 2, 4], "hall": 1, "handl": 1, "happen": 1, "hard": 1, "have": [1, 2], "hello": [0, 1], "hello2": 1, "hello_copi": 1, "help": [1, 4], "here": [1, 4], "hidden": 1, "high": [2, 4], "highli": 1, "holtgrew": 1, "host": 1, "how": [1, 4], "howev": [1, 2], "hpc": [2, 4], "hq": [0, 2], "hq_server_dir": 2, "hqjobid": 2, "hqtaskid": 2, "html": 1, "http": [1, 2], "hyperqueu": 0, "i": [0, 2, 4], "idea": 2, "ignor": 1, "imag": [1, 2], "imagin": 1, "implement": 4, "implicit": 1, "import": 1, "improv": 2, "in_f": 1, "includ": [1, 2], "increas": [1, 2], "independ": [1, 4], "indic": 1, "inevit": 1, "info": 2, "inform": 1, "input": [1, 4], "insid": 1, "instal": 2, "instead": 1, "integr": 1, "intens": 1, "interfac": 1, "intro": 4, "introduct": 4, "ipynb": 1, "isol": 1, "its": 1, "itself": [1, 2], "j": [1, 2], "jablonski": 1, "job": [0, 1], "join": 4, "julia": 1, "jupyt": 1, "just": 2, "kanitz": 1, "keep": [1, 4], "kei": 1, "kernel": 1, "keyword": 1, "kind": 1, "knowledg": 1, "kp": 1, "k\u00f6ster": 1, "l": 1, "languag": [1, 4], "laptop": 4, "larg": [1, 2], "last": 1, "latenc": 0, "latest": 1, "layer": 1, "learn": 1, "least": 1, "lee": 1, "lesson": 4, "let": 1, "letcher": 1, "leverag": 1, "librari": 1, "licens": 1, "lightweight": 1, "like": [1, 2], "limit": [1, 2], "line": 1, "link": 1, "linux": 1, "list": [1, 2], "listdir": 1, "littl": 1, "load": [0, 2], "local": [1, 2], "localhost": 1, "locat": [1, 2], "log": 1, "long": 0, "look": 1, "lot": [0, 2], "lumi": [0, 2, 4], "lustr": 2, "m": 1, "mac": 1, "machin": 1, "maco": 1, "made": [1, 2], "mahti": 4, "mai": [1, 2], "maintain": 1, "make": [1, 2, 4], "manag": [1, 2], "mandatori": 1, "mani": [1, 2], "manual": 1, "mark": 1, "markdown": 1, "materi": [2, 4], "matter": 1, "maximum": 2, "mb": 1, "md": 1, "me": 2, "mean": 1, "mem": [0, 2], "metadata": 1, "method": 1, "methodologi": 1, "might": 1, "miss": 1, "mkdir": 2, "mock": 1, "mode": 1, "modif": 2, "modifi": 1, "modified_": 1, "modify_fil": 1, "modul": [1, 2], "module1": 1, "module2": 1, "modulefil": 2, "monitor": 2, "more": [0, 1], "moreov": 1, "most": 1, "move": [1, 4], "mpi": 2, "msg": 1, "multi": 2, "multipl": 1, "multixscal": 4, "mytest": 0, "m\u00f6lder": 1, "n": [1, 2], "nahnsen": 1, "name": [0, 1, 2], "nativ": 2, "necessari": 1, "necessarili": 1, "need": [0, 2, 4], "new": [1, 2], "next": 1, "nextflow": 4, "node": [0, 2], "none": 2, "note": [1, 2], "notebook": 1, "notebook1": 1, "notebook2": 1, "notic": 1, "now": 1, "ntask": 2, "null": 2, "number": [1, 2], "o": 1, "observ": 2, "obtain": 1, "offer": [1, 4], "offici": [1, 2], "omit": 1, "one": [0, 1, 2], "ones": 1, "onli": 1, "onlin": 1, "open": [1, 4], "oper": [0, 1], "opportun": 4, "oppos": 4, "optimis": 2, "option": [0, 1, 2], "order": [1, 4], "organ": 4, "origin": 1, "other": [1, 4], "our": [1, 2, 4], "out": 4, "out_f": 1, "output": [1, 4], "outputfil": 1, "outsid": 1, "over": 1, "overhead": 2, "overse": 1, "own": [1, 2, 4], "p": 2, "packag": 1, "page": [1, 4], "panopt": 1, "parallel": [0, 2, 4], "param": 1, "paramet": 2, "pars": 1, "part": 1, "particip": 4, "partit": [0, 2], "pass": 1, "path": 1, "paus": 1, "per": [0, 1, 2], "perform": 1, "person": 1, "pip": 1, "pipelin": 2, "plan": 1, "pleas": [2, 4], "plenti": 1, "plot": 1, "plot1": 1, "plot2": 1, "plugin": 0, "png": 1, "popular": 1, "portabl": [1, 2], "possibl": 1, "possibli": 1, "post": 2, "power": 1, "practic": [1, 2], "pre": 2, "presenc": 1, "present": 1, "prevent": 2, "previou": 1, "print": 1, "problem": 1, "problemat": 1, "process": [1, 2, 4], "produc": 1, "product": 1, "project": 2, "project_2001234": 2, "project_xxxx": 0, "project_xxxxx": 0, "promot": 1, "proper": 1, "provid": [0, 1, 2], "publish": 1, "puhti": [0, 2, 4], "purpos": 2, "pwd": 2, "py": 1, "pygment": 1, "quick": 1, "quickli": 1, "quit": 1, "r": 1, "rahmann": 1, "raw": 1, "read": [0, 1, 4], "readabl": 1, "readi": 2, "readm": 1, "recommend": 1, "recomput": 1, "recurs": 1, "redirect": 1, "redund": 1, "refer": 1, "refresh": 4, "regard": 1, "regardless": 1, "reli": 1, "rememb": 1, "remov": 0, "repeat": 1, "replac": [1, 2], "repositori": 3, "reproduc": 2, "request": 0, "requir": 1, "research": 1, "reserv": [2, 4], "resolv": 1, "resourc": [0, 1, 2], "respond": 1, "restart": 0, "result": 1, "retri": 1, "return": 1, "robust": 1, "root": 1, "rscript": 1, "rst": 1, "rule": [0, 2], "run": [0, 1, 2, 4], "runtim": 1, "rust": 1, "sai": 1, "same": [0, 1, 2], "save": 1, "sbatch": [0, 2], "scalabl": 1, "scale": [1, 4], "schedul": 2, "scienc": 4, "scientif": 1, "script": [1, 2, 4], "script1": 1, "script2": 1, "search": 1, "second": 1, "section": 1, "secur": 1, "see": [1, 2], "sens": 4, "separ": [0, 1], "serial": 0, "server": [1, 2], "session": 4, "set": [1, 2, 3, 4], "sh": 2, "share": 1, "sheet": 1, "shell": 1, "short": [1, 2, 4], "should": 1, "shown": 2, "shut": 2, "similar": 1, "simpl": 1, "simplest": 1, "simpli": 2, "sinc": 1, "singular": [0, 1, 2], "situat": 1, "size": 1, "skip": 1, "sleep": [1, 2], "slide": [0, 4], "slurm": 0, "slurm_cpus_per_task": 2, "slurm_job_id": 2, "slurm_ntask": 2, "slurmjobid": 2, "small": [0, 1, 2], "smk": 1, "snakedeploi": 1, "snakefil": [0, 2, 4], "snakefile_2": 1, "snakemake_hq_puhti": 2, "snakemake_sc": 2, "snakemake_scal": 2, "snippet": 1, "so": 1, "sochat": 1, "softwar": [1, 2], "solut": 1, "some": [1, 2], "somehow": 1, "sometim": [1, 2], "soon": 1, "sort": 1, "sorted_greet": 1, "sorter": 1, "specif": 1, "specifi": [1, 2], "squeue": 2, "srun": 2, "stack": 2, "stage": 1, "start": [1, 2], "startup": 1, "stat": 1, "statist": 1, "stderr": 2, "stdout": 2, "step": [0, 1, 4], "stop": [1, 2], "storag": 2, "store": 1, "strategi": 1, "sub": 2, "subdirectori": 1, "submit": 0, "subset": 1, "substitut": 1, "summar": [0, 1], "supercomput": [1, 4], "support": [1, 4], "sustain": 1, "switch": 2, "syntax": 1, "system": [1, 2, 4], "t": 2, "tab": 2, "take": [1, 2], "talk": 4, "tar": 2, "target": 1, "task": 0, "tbd": [0, 2], "tell": 1, "temporari": 0, "term": 1, "termin": 1, "test": [0, 1], "text": 1, "than": [1, 2], "thank": 1, "thei": 1, "them": 2, "therebi": 1, "thi": [1, 2, 4], "thing": 1, "those": 2, "though": 1, "thread": 1, "three": 1, "through": 1, "throughput": [2, 4], "time": [0, 1, 2], "timestamp": 1, "tinch": 1, "tip": 4, "togeth": 1, "toi": 4, "tomkin": 1, "tool": 4, "tool1": 1, "tool2": 1, "top": 1, "tpng": 1, "track": 4, "tradit": 1, "transform": 1, "transformed_dataset_2024": 1, "transpar": 1, "true": 1, "try": 1, "tsv": 1, "tutori": [1, 2, 4], "twardziok": 1, "two": 1, "txt": 1, "txt_file": 1, "type": 1, "typo": 1, "u": [1, 2], "ui": 1, "understand": [1, 4], "unfilt": 1, "univers": 4, "unlik": 1, "unnecessari": 0, "unreli": 1, "until": [1, 2], "unzip": 1, "up": [1, 3, 4], "updat": 1, "upon": 1, "uppsala": 4, "url": 1, "us": [0, 1, 4], "usag": 1, "user": [1, 2, 4], "v": 1, "valid": 1, "valu": 1, "variabl": 1, "variou": 1, "verifi": 1, "version": [0, 1, 2], "via": 1, "virtual": 1, "visit": 1, "visual": 1, "w": 1, "wa": 1, "wai": [0, 1, 2], "wait": [0, 2], "want": 1, "warn": 1, "wc": 1, "we": [2, 4], "web": 1, "websit": 1, "week": 1, "well": 1, "were": 1, "wget": [1, 2], "what": [3, 4], "when": [0, 1, 2, 4], "where": [1, 2], "which": [0, 1, 2, 4], "while": 1, "whose": 2, "widespread": 1, "wilm": 1, "window": 1, "without": 1, "wm": 1, "word": 1, "word_count": 1, "word_count_": 1, "word_count_file1": 1, "word_count_file2": 1, "word_count_file3": 1, "word_count_file4": 1, "work": [1, 2, 4], "worker": 2, "workflow": 4, "world": [0, 4], "would": [0, 1], "wrapper": 1, "write": [0, 1], "written": 1, "x": 2, "xavf": 2, "xx": 2, "yaml": 1, "year": 1, "you": [1, 4], "your": [0, 1, 2, 4], "zip": 1}, "titles": ["Snakemake on the supercomputer", "Snakemake introduction", "Toy example: Snakemake at Scale", "Instructor\u2019s guide", "Snakemake Hackathon", "Quick Reference"], "titleterms": {"": 3, "about": 4, "also": 4, "aspect": 3, "automat": 2, "between": 1, "clean": 2, "cluster": [0, 2], "code": 1, "contain": 2, "container": 1, "content": 4, "cours": 4, "depend": 1, "differ": 2, "do": 2, "entri": 1, "environ": 2, "error": 1, "exampl": 2, "execut": [0, 1], "executor": 2, "exercis": 3, "folder": 2, "follow": 2, "forc": 1, "get": 3, "good": 0, "guid": 3, "hackathon": 4, "how": 2, "hyperqueu": 2, "i": 1, "inform": 2, "instal": 1, "instructor": 3, "intend": 3, "interest": 3, "introduct": 1, "job": 2, "keypoint": [0, 2], "learn": [3, 4], "lesson": 3, "might": 3, "modul": 0, "monitor": 1, "more": 2, "need": 1, "object": [0, 1, 2], "other": 3, "outcom": [3, 4], "parallel": 1, "parallelis": 2, "pitfal": 3, "portabl": 0, "practic": [0, 3], "prepar": 3, "prerequisit": [0, 4], "progress": 2, "project": 1, "python": 1, "question": 3, "quick": 5, "re": 1, "recoveri": 1, "refer": 5, "report": 1, "reproduc": 1, "rule": 1, "runtim": 2, "scale": 2, "see": 4, "snakefil": 1, "snakemak": [0, 1, 2, 4], "specif": 2, "structur": 1, "submit": 2, "summari": 1, "supercomput": 0, "task": 2, "teach": 3, "them": 1, "theori": 4, "thi": 3, "time": 3, "toi": 2, "tool": 1, "typic": 3, "us": 2, "we": [1, 3], "what": 1, "why": [1, 3], "wildcard": 1, "work": 0, "workflow": [0, 1, 2], "you": [2, 3]}})